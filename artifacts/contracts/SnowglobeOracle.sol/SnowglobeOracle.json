{
  "_format": "hh-sol-artifact-1",
  "contractName": "SnowglobeOracle",
  "sourceName": "contracts/SnowglobeOracle.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_pegDecimals",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_roles",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "contract AggregatorV3Interface",
          "name": "oracle",
          "type": "address"
        }
      ],
      "name": "getChainlinkPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "inAmount",
          "type": "uint256"
        }
      ],
      "name": "getCurrentPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "mainCharacterCache",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "roleCache",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "roles",
      "outputs": [
        {
          "internalType": "contract Roles",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "staleness",
          "type": "uint256"
        }
      ],
      "name": "setStalenessWindow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "oracle",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenDecimals",
          "type": "uint256"
        }
      ],
      "name": "setTokenOracleParameters",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "stalenessWindow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "tokenOracleParams",
      "outputs": [
        {
          "internalType": "contract AggregatorV3Interface",
          "name": "oracle",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "oracleDecimalFactor",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenDecimalFactor",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "role",
          "type": "uint256"
        }
      ],
      "name": "updateMainCharacterCache",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "role",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "contr",
          "type": "address"
        }
      ],
      "name": "updateRoleCache",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "inAmount",
          "type": "uint256"
        }
      ],
      "name": "viewCurrentPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60c06040526107086002553480156200001757600080fd5b50604051620011f2380380620011f28339810160408190526200003a91620000ca565b806001600160a01b038116620000a15760405162461bcd60e51b815260206004820152602260248201527f506c656173652070726f766964652076616c696420726f6c6573206164647265604482015261737360f01b606482015260840160405180910390fd5b60601b6001600160601b031916608052620000be82600a62000154565b60a052506200025f9050565b60008060408385031215620000dd578182fd5b825160208401519092506001600160a01b0381168114620000fc578182fd5b809150509250929050565b80825b60018086116200011b57506200014b565b81870482111562000130576200013062000249565b808616156200013e57918102915b9490941c9380026200010a565b94509492505050565b60006200016560001984846200016c565b9392505050565b6000826200017d5750600162000165565b816200018c5750600062000165565b8160018114620001a55760028114620001b057620001e4565b600191505062000165565b60ff841115620001c457620001c462000249565b6001841b915084821115620001dd57620001dd62000249565b5062000165565b5060208310610133831016604e8410600b84101617156200021c575081810a8381111562000216576200021662000249565b62000165565b6200022b848484600162000107565b80860482111562000240576200024062000249565b02949350505050565b634e487b7160e01b600052601160045260246000fd5b60805160601c60a051610f4e620002a460003960006105320152600081816101570152818161028b0152818161078101528181610aaf0152610b470152610f4e6000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c80636c54df52116100715780636c54df52146101b757806370b69acb146101ca5780637a1a04df146101d3578063bd58fe5614610211578063e9c3f77d14610239578063ffdf5bf514610262576100b4565b8063071060a6146100b957806313be93f6146100ce57806317baf177146100f4578063392f5f64146101525780633aefb1e814610191578063447d52ba146101a4575b600080fd5b6100cc6100c7366004610c9d565b610275565b005b6100e16100dc366004610c52565b61033b565b6040519081526020015b60405180910390f35b61012d610102366004610bd3565b6003602052600090815260409020805460018201546002909201546001600160a01b03909116919083565b604080516001600160a01b0390941684526020840192909252908201526060016100eb565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100eb565b6100cc61019f366004610c12565b6105eb565b6100cc6101b2366004610ccd565b61075b565b6100e16101c5366004610c52565b610833565b6100e160025481565b6102016101e1366004610c52565b600160209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100eb565b61022461021f366004610bd3565b61096e565b604080519283526020830191909152016100eb565b610179610247366004610c9d565b6000602081905290815260409020546001600160a01b031681565b6100cc610270366004610c9d565b6109f5565b60405163b4ed0b6d60e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b4ed0b6d9060240160206040518083038186803b1580156102d557600080fd5b505afa1580156102e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030d9190610bf6565b60009182526020829052604090912080546001600160a01b0319166001600160a01b03909216919091179055565b6001600160a01b03808316600090815260036020526040812080549192909183918291610368911661096e565b6002549193509150869061037c9083610d6c565b42111561052157670de0b6b3a7640000610394610a73565b6001600160a01b031663093a483a836001600160a01b031663fc0c546a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156103db57600080fd5b505afa1580156103ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104139190610bf6565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018a905260440160206040518083038186803b15801561045957600080fd5b505afa15801561046d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104919190610cb5565b826001600160a01b031663ec1ebd7a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156104ca57600080fd5b505afa1580156104de573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105029190610cb5565b61050c9190610ecb565b6105169190610d84565b9450505050506105e5565b6002840154600185015484610556897f0000000000000000000000000000000000000000000000000000000000000000610ecb565b6105609190610ecb565b836001600160a01b031663ec1ebd7a6040518163ffffffff1660e01b815260040160206040518083038186803b15801561059957600080fd5b505afa1580156105ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d19190610cb5565b6105db9190610ecb565b61050c9190610d84565b92915050565b336105f4610aab565b6001600160a01b0316148061061857503361060d610b43565b6001600160a01b0316145b6106695760405162461bcd60e51b815260206004820152601e60248201527f526f6c65733a2063616c6c6572206973206e6f7420746865206f776e6572000060448201526064015b60405180910390fd5b6040518060600160405280836001600160a01b03168152602001836001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b1580156106bc57600080fd5b505afa1580156106d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f49190610d4b565b6106ff90600a610df9565b815260200161070f83600a610dea565b90526001600160a01b03938416600090815260036020908152604091829020835181546001600160a01b0319169716969096178655820151600186015501516002909301929092555050565b6040516393552a3d60e01b8152600481018390526001600160a01b0382811660248301527f000000000000000000000000000000000000000000000000000000000000000016906393552a3d9060440160206040518083038186803b1580156107c357600080fd5b505afa1580156107d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107fb9190610c7d565b6001600160a01b0391909116600090815260016020908152604080832094835293905291909120805460ff1916911515919091179055565b6001600160a01b03808316600090815260036020526040812080549192909183918291610860911661096e565b600254919350915086906108749083610d6c565b42111561052157670de0b6b3a764000061088c610a73565b6001600160a01b03166360b3fa40836001600160a01b031663fc0c546a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156108d357600080fd5b505afa1580156108e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090b9190610bf6565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018a905260016044820152606401602060405180830381600087803b15801561095a57600080fd5b505af115801561046d573d6000803e3d6000fd5b600080600080846001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a06040518083038186803b1580156109ad57600080fd5b505afa1580156109c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e59190610cfc565b5091965090945050505050915091565b336109fe610aab565b6001600160a01b03161480610a22575033610a17610b43565b6001600160a01b0316145b610a6e5760405162461bcd60e51b815260206004820152601e60248201527f526f6c65733a2063616c6c6572206973206e6f7420746865206f776e657200006044820152606401610660565b600255565b606860009081526020527faa071f48f62aaaa1f6320aaa7bd2ad2d552d05160892c14d699d38c9920d5f99546001600160a01b031690565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316638da5cb5b6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b0657600080fd5b505afa158015610b1a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b3e9190610bf6565b905090565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663c34c08e56040518163ffffffff1660e01b8152600401602060405180830381600087803b158015610ba057600080fd5b505af1158015610b1a573d6000803e3d6000fd5b805169ffffffffffffffffffff81168114610bce57600080fd5b919050565b600060208284031215610be4578081fd5b8135610bef81610f00565b9392505050565b600060208284031215610c07578081fd5b8151610bef81610f00565b600080600060608486031215610c26578182fd5b8335610c3181610f00565b92506020840135610c4181610f00565b929592945050506040919091013590565b60008060408385031215610c64578182fd5b8235610c6f81610f00565b946020939093013593505050565b600060208284031215610c8e578081fd5b81518015158114610bef578182fd5b600060208284031215610cae578081fd5b5035919050565b600060208284031215610cc6578081fd5b5051919050565b60008060408385031215610cdf578182fd5b823591506020830135610cf181610f00565b809150509250929050565b600080600080600060a08688031215610d13578081fd5b610d1c86610bb4565b9450602086015193506040860151925060608601519150610d3f60808701610bb4565b90509295509295909350565b600060208284031215610d5c578081fd5b815160ff81168114610bef578182fd5b60008219821115610d7f57610d7f610eea565b500190565b600082610d9f57634e487b7160e01b81526012600452602481fd5b500490565b80825b6001808611610db65750610de1565b818704821115610dc857610dc8610eea565b80861615610dd557918102915b9490941c938002610da7565b94509492505050565b6000610bef6000198484610e07565b6000610bef60001960ff8516845b600082610e1657506001610bef565b81610e2357506000610bef565b8160018114610e395760028114610e4357610e70565b6001915050610bef565b60ff841115610e5457610e54610eea565b6001841b915084821115610e6a57610e6a610eea565b50610bef565b5060208310610133831016604e8410600b8410161715610ea3575081810a83811115610e9e57610e9e610eea565b610bef565b610eb08484846001610da4565b808604821115610ec257610ec2610eea565b02949350505050565b6000816000190483118215151615610ee557610ee5610eea565b500290565b634e487b7160e01b600052601160045260246000fd5b6001600160a01b0381168114610f1557600080fd5b5056fea2646970667358221220f7d70d6135466690103c1270961ddaf7598d51480ef61a2327f0d22f78cff26164736f6c63430008030033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c80636c54df52116100715780636c54df52146101b757806370b69acb146101ca5780637a1a04df146101d3578063bd58fe5614610211578063e9c3f77d14610239578063ffdf5bf514610262576100b4565b8063071060a6146100b957806313be93f6146100ce57806317baf177146100f4578063392f5f64146101525780633aefb1e814610191578063447d52ba146101a4575b600080fd5b6100cc6100c7366004610c9d565b610275565b005b6100e16100dc366004610c52565b61033b565b6040519081526020015b60405180910390f35b61012d610102366004610bd3565b6003602052600090815260409020805460018201546002909201546001600160a01b03909116919083565b604080516001600160a01b0390941684526020840192909252908201526060016100eb565b6101797f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100eb565b6100cc61019f366004610c12565b6105eb565b6100cc6101b2366004610ccd565b61075b565b6100e16101c5366004610c52565b610833565b6100e160025481565b6102016101e1366004610c52565b600160209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100eb565b61022461021f366004610bd3565b61096e565b604080519283526020830191909152016100eb565b610179610247366004610c9d565b6000602081905290815260409020546001600160a01b031681565b6100cc610270366004610c9d565b6109f5565b60405163b4ed0b6d60e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063b4ed0b6d9060240160206040518083038186803b1580156102d557600080fd5b505afa1580156102e9573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061030d9190610bf6565b60009182526020829052604090912080546001600160a01b0319166001600160a01b03909216919091179055565b6001600160a01b03808316600090815260036020526040812080549192909183918291610368911661096e565b6002549193509150869061037c9083610d6c565b42111561052157670de0b6b3a7640000610394610a73565b6001600160a01b031663093a483a836001600160a01b031663fc0c546a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156103db57600080fd5b505afa1580156103ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104139190610bf6565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018a905260440160206040518083038186803b15801561045957600080fd5b505afa15801561046d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104919190610cb5565b826001600160a01b031663ec1ebd7a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156104ca57600080fd5b505afa1580156104de573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105029190610cb5565b61050c9190610ecb565b6105169190610d84565b9450505050506105e5565b6002840154600185015484610556897f0000000000000000000000000000000000000000000000000000000000000000610ecb565b6105609190610ecb565b836001600160a01b031663ec1ebd7a6040518163ffffffff1660e01b815260040160206040518083038186803b15801561059957600080fd5b505afa1580156105ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105d19190610cb5565b6105db9190610ecb565b61050c9190610d84565b92915050565b336105f4610aab565b6001600160a01b0316148061061857503361060d610b43565b6001600160a01b0316145b6106695760405162461bcd60e51b815260206004820152601e60248201527f526f6c65733a2063616c6c6572206973206e6f7420746865206f776e6572000060448201526064015b60405180910390fd5b6040518060600160405280836001600160a01b03168152602001836001600160a01b031663313ce5676040518163ffffffff1660e01b815260040160206040518083038186803b1580156106bc57600080fd5b505afa1580156106d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f49190610d4b565b6106ff90600a610df9565b815260200161070f83600a610dea565b90526001600160a01b03938416600090815260036020908152604091829020835181546001600160a01b0319169716969096178655820151600186015501516002909301929092555050565b6040516393552a3d60e01b8152600481018390526001600160a01b0382811660248301527f000000000000000000000000000000000000000000000000000000000000000016906393552a3d9060440160206040518083038186803b1580156107c357600080fd5b505afa1580156107d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107fb9190610c7d565b6001600160a01b0391909116600090815260016020908152604080832094835293905291909120805460ff1916911515919091179055565b6001600160a01b03808316600090815260036020526040812080549192909183918291610860911661096e565b600254919350915086906108749083610d6c565b42111561052157670de0b6b3a764000061088c610a73565b6001600160a01b03166360b3fa40836001600160a01b031663fc0c546a6040518163ffffffff1660e01b815260040160206040518083038186803b1580156108d357600080fd5b505afa1580156108e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090b9190610bf6565b6040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018a905260016044820152606401602060405180830381600087803b15801561095a57600080fd5b505af115801561046d573d6000803e3d6000fd5b600080600080846001600160a01b031663feaf968c6040518163ffffffff1660e01b815260040160a06040518083038186803b1580156109ad57600080fd5b505afa1580156109c1573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e59190610cfc565b5091965090945050505050915091565b336109fe610aab565b6001600160a01b03161480610a22575033610a17610b43565b6001600160a01b0316145b610a6e5760405162461bcd60e51b815260206004820152601e60248201527f526f6c65733a2063616c6c6572206973206e6f7420746865206f776e657200006044820152606401610660565b600255565b606860009081526020527faa071f48f62aaaa1f6320aaa7bd2ad2d552d05160892c14d699d38c9920d5f99546001600160a01b031690565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316638da5cb5b6040518163ffffffff1660e01b815260040160206040518083038186803b158015610b0657600080fd5b505afa158015610b1a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b3e9190610bf6565b905090565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663c34c08e56040518163ffffffff1660e01b8152600401602060405180830381600087803b158015610ba057600080fd5b505af1158015610b1a573d6000803e3d6000fd5b805169ffffffffffffffffffff81168114610bce57600080fd5b919050565b600060208284031215610be4578081fd5b8135610bef81610f00565b9392505050565b600060208284031215610c07578081fd5b8151610bef81610f00565b600080600060608486031215610c26578182fd5b8335610c3181610f00565b92506020840135610c4181610f00565b929592945050506040919091013590565b60008060408385031215610c64578182fd5b8235610c6f81610f00565b946020939093013593505050565b600060208284031215610c8e578081fd5b81518015158114610bef578182fd5b600060208284031215610cae578081fd5b5035919050565b600060208284031215610cc6578081fd5b5051919050565b60008060408385031215610cdf578182fd5b823591506020830135610cf181610f00565b809150509250929050565b600080600080600060a08688031215610d13578081fd5b610d1c86610bb4565b9450602086015193506040860151925060608601519150610d3f60808701610bb4565b90509295509295909350565b600060208284031215610d5c578081fd5b815160ff81168114610bef578182fd5b60008219821115610d7f57610d7f610eea565b500190565b600082610d9f57634e487b7160e01b81526012600452602481fd5b500490565b80825b6001808611610db65750610de1565b818704821115610dc857610dc8610eea565b80861615610dd557918102915b9490941c938002610da7565b94509492505050565b6000610bef6000198484610e07565b6000610bef60001960ff8516845b600082610e1657506001610bef565b81610e2357506000610bef565b8160018114610e395760028114610e4357610e70565b6001915050610bef565b60ff841115610e5457610e54610eea565b6001841b915084821115610e6a57610e6a610eea565b50610bef565b5060208310610133831016604e8410600b8410161715610ea3575081810a83811115610e9e57610e9e610eea565b610bef565b610eb08484846001610da4565b808604821115610ec257610ec2610eea565b02949350505050565b6000816000190483118215151615610ee557610ee5610eea565b500290565b634e487b7160e01b600052601160045260246000fd5b6001600160a01b0381168114610f1557600080fd5b5056fea2646970667358221220f7d70d6135466690103c1270961ddaf7598d51480ef61a2327f0d22f78cff26164736f6c63430008030033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
